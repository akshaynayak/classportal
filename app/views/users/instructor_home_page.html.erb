<% if logged_in_user %>
    <ul>
      <h2> INSTRUCTOR PROFILE </h2>
      <li><%= logged_in_user.name %></li>
      <li><%= logged_in_user.email %></li>
      <li><%= link_to "Log out", logout_path, method: "delete" %></li>
      <li><%= link_to 'Edit your profile details', edit_user_path(logged_in_user) %></li>
      <li><%= link_to "Instructor home page", instructor_home_page_path %></li>

    </ul>


    <h1> Your courses </h1>

    <table>
      <thead>
      <tr>

        <th>Course number</th>

        <th>Title</th>

        <th>Description</th>

        <th>Start date</th>

        <th>End date</th>

        <th>Is active</th>

        <th>Notifications</th>

        <th>Deadlines</th>

        <!--th>Instructors</th-->

        <!--th>Grade</th-->

        <th colspan="3"></th>
      </tr>
      </thead>

      <tbody>
      <% @courses_taught.each do |course| %>
          <tr>

            <td><%= course.course_number %></td>

            <td><%= course.title %></td>

            <td><%= course.description %></td>

            <td><%= course.start_date %></td>

            <td><%= course.end_date %></td>

            <td><%= course.is_active %></td>

            <td><%= course.notifications %></td>

            <td><%= course.deadlines %></td>


            <!--td>
              <!% mapping.course.users.each do |user| %>
                  <!% if user.is_instructor %>
                      <li><!%= user.name %></li>
                  <!% end %>
              <!% end %>
            </td-->
            <!--td><!%= mapping.grade %></td-->
            <td><%= link_to 'Show course', course_path(course) %></td>
            <td><%= link_to 'Edit course', edit_course_path(course) %></td>

            <td><%= link_to 'View course requests', :action => :student_enrollment_requests, :course => course %></td>


          </tr>
      <% end %>
      </tbody>
    </table>

    <br>


    <table>
      <thead>
      <tr>

        <th> User </th>

        <th> course </th>

        <th>Is teaching</th>

        <th>Is enrolled</th>

        <th>Has requested enrollment</th>

        <th>Grade</th>

        <th colspan="3"></th>
      </tr>
      </thead>

      <tbody>
      <% @my_course_mappings.each do |user_course| %>
          <tr>
            <td><%= user_course.user_id %></td>

            <td><%= user_course.course_id %></td>

            <td><%= user_course.is_teaching %></td>

            <td><%= user_course.is_enrolled %></td>

            <td><%= user_course.has_requested_enrollment %></td>

            <td><%= user_course.grade %></td>

            <td><%= link_to 'Show', user_course %></td>
            <td><%= link_to 'Edit', edit_user_course_path(user_course) %></td>
            <td><%= link_to 'Destroy', user_course, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          </tr>
      <% end %>
      </tbody>
    </table>


    <br><br>
    <!%= link_to "Show all admins", user_admins_path %><br>
    <%= link_to "Show all courses", courses_path %><br>



<% else %>
    <ul>
      <li><%= link_to "Login", 'login' %></a></li>
    </ul>
<% end %>

